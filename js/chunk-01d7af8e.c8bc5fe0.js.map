{"version":3,"sources":["webpack:///./node_modules/vant/es/utils/dom/style.js","webpack:///./src/components/oHeader.vue?91ea","webpack:///src/components/oHeader.vue","webpack:///./src/components/oHeader.vue?99b9","webpack:///./src/components/oHeader.vue","webpack:///./src/view/city.vue?1dcc","webpack:///./node_modules/vant/es/index-anchor/index.js","webpack:///./node_modules/vant/es/index-bar/index.js","webpack:///src/view/city.vue","webpack:///./src/view/city.vue?232f","webpack:///./src/view/city.vue","webpack:///./node_modules/vant/es/utils/vnodes.js","webpack:///./node_modules/vant/es/mixins/relation.js","webpack:///./node_modules/vant/es/utils/constant.js","webpack:///./node_modules/vant/es/cell/style/index.js","webpack:///./src/components/oHeader.vue?e7f8","webpack:///./src/view/city.vue?ac4f"],"names":["isHidden","el","style","window","getComputedStyle","hidden","display","parentHidden","offsetParent","position","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","skip","_t","staticRenderFns","component","back","_v","attrs","onSearch","onCancel","model","value","callback","$$v","expression","_e","indexList","_l","data","key","index","val","name","$event","moveCity","cityId","_createNamespace","create","createComponent","bem","mixins","indexKey","props","Number","String","top","left","width","active","computed","sticky","parent","anchorStyle","zIndex","transform","color","highlightColor","mounted","height","$el","offsetHeight","methods","scrollIntoView","_ref","h","arguments","slots","genAlphabet","charCodeOfA","charCodeAt","i","push","fromCharCode","bind","scroller","onScroll","type","Boolean","default","stickyOffsetTop","Array","activeAnchorIndex","sidebarStyle","highlightStyle","watch","$nextTick","_this","scrollTop","scrollerRect","getScrollerRect","rects","children","map","item","getElementTop","getActiveAnchorIndex","forEach","rect","getBoundingClientRect","Math","max","activeItemTop","ele","document","body","eleRect","length","prevHeight","reachTop","onClick","event","scrollToElement","target","onTouchMove","touchMove","direction","_event$touches$","touches","clientX","clientY","elementFromPoint","dataset","touchActiveIndex","element","match","filter","$emit","onTouchEnd","_this2","Indexes","touchStart","created","headers","console","log","res","cities","datalist","searchArr","components","oHeader","changeCity","changeCityId","id","$router","filterName","letterArr","j","newArr","cityArr","flattenVNodes","vnodes","result","traverse","vnode","componentInstance","$children","$vnode","sortChildren","componentOptions","sort","a","b","indexOf","ChildrenMixin","_parent","options","_inject","_computed","extend","inject","disableBindRelation","bindRelation","beforeDestroy","concat","ParentMixin","provide","WHITE","BORDER","BORDER_BOTTOM","BORDER_SURROUND","BORDER_TOP_BOTTOM"],"mappings":"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","file":"js/chunk-01d7af8e.c8bc5fe0.js","sourcesContent":["export function isHidden(el) {\n  var style = window.getComputedStyle(el);\n  var hidden = style.display === 'none'; // offsetParent returns null in the following situations:\n  // 1. The element or its parent element has the display property set to none.\n  // 2. The element has the position property set to fixed\n\n  var parentHidden = el.offsetParent === null && style.position !== 'fixed';\n  return hidden || parentHidden;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"iconfont iconarrowLeft\",on:{\"click\":_vm.skip}}),_c('h2',[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"header\">\r\n      <span class=\"iconfont iconarrowLeft\" @click=\"skip\"></span>\r\n          <h2><slot></slot></h2>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    methods:{\r\n        skip(){\r\n            this.$emit('back')\r\n        }\r\n    }\r\n\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.header{\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    position: fixed;\r\n    background: white;\r\n    z-index: 6;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 40px;\r\n    h2{\r\n        margin: 0 auto;\r\n        color: black;\r\n    }\r\n    span{\r\n        margin-left: 5px;\r\n        font-size: 25px;\r\n        color: black;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./oHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./oHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./oHeader.vue?vue&type=template&id=7bf5e582&scoped=true&\"\nimport script from \"./oHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./oHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./oHeader.vue?vue&type=style&index=0&id=7bf5e582&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bf5e582\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.datalist)?_c('div',[_c('oHeader',{on:{\"back\":_vm.back}},[_vm._v(\"当前城市\")]),_c('form',{attrs:{\"action\":\"/\"}},[_c('van-search',{attrs:{\"show-action\":\"\",\"placeholder\":\"请输入搜索关键词\"},on:{\"search\":_vm.onSearch,\"cancel\":_vm.onCancel},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),(!_vm.value)?_c('div',{staticClass:\"cityList\"},[_c('van-index-bar',{attrs:{\"index-list\":_vm.indexList}},_vm._l((_vm.datalist),function(data,key){return _c('div',{key:key},[_c('van-index-anchor',{attrs:{\"index\":data.index}}),_vm._l((data.list),function(val,index){return _c('van-cell',{key:index,attrs:{\"title\":val.name},on:{\"click\":function($event){return _vm.moveCity(val.name,val.cityId)}}})})],2)}),0)],1):_vm._e(),(_vm.value)?_c('div',{staticClass:\"searchCity\"},[_c('van-index-bar',_vm._l((_vm.SearchCity),function(data,key){return _c('div',{key:key},[_c('van-cell',{attrs:{\"title\":data.name}})],1)}),0)],1):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\nimport { BORDER_BOTTOM } from '../utils/constant';\n\nvar _createNamespace = createNamespace('index-anchor'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanIndexBar', {\n    indexKey: 'childrenIndex'\n  })],\n  props: {\n    index: [Number, String]\n  },\n  data: function data() {\n    return {\n      top: 0,\n      left: null,\n      width: null,\n      active: false\n    };\n  },\n  computed: {\n    sticky: function sticky() {\n      return this.active && this.parent.sticky;\n    },\n    anchorStyle: function anchorStyle() {\n      if (this.sticky) {\n        return {\n          zIndex: \"\" + this.parent.zIndex,\n          left: this.left ? this.left + \"px\" : null,\n          width: this.width ? this.width + \"px\" : null,\n          transform: \"translate3d(0, \" + this.top + \"px, 0)\",\n          color: this.parent.highlightColor\n        };\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.height = this.$el.offsetHeight;\n  },\n  methods: {\n    scrollIntoView: function scrollIntoView() {\n      this.$el.scrollIntoView();\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    var sticky = this.sticky;\n    return h(\"div\", {\n      \"style\": {\n        height: sticky ? this.height + \"px\" : null\n      }\n    }, [h(\"div\", {\n      \"style\": this.anchorStyle,\n      \"class\": [bem({\n        sticky: sticky\n      }), (_ref = {}, _ref[BORDER_BOTTOM] = sticky, _ref)]\n    }, [this.slots('default') || this.index])]);\n  }\n});","// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { preventDefault } from '../utils/dom/event';\nimport { getScroller, getScrollTop, getElementTop as _getElementTop, getRootScrollTop, setRootScrollTop } from '../utils/dom/scroll'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nfunction genAlphabet() {\n  var indexList = [];\n  var charCodeOfA = 'A'.charCodeAt(0);\n\n  for (var i = 0; i < 26; i++) {\n    indexList.push(String.fromCharCode(charCodeOfA + i));\n  }\n\n  return indexList;\n}\n\nvar _createNamespace = createNamespace('index-bar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, ParentMixin('vanIndexBar'), BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll);\n  })],\n  props: {\n    zIndex: [Number, String],\n    highlightColor: String,\n    sticky: {\n      type: Boolean,\n      default: true\n    },\n    stickyOffsetTop: {\n      type: Number,\n      default: 0\n    },\n    indexList: {\n      type: Array,\n      default: genAlphabet\n    }\n  },\n  data: function data() {\n    return {\n      activeAnchorIndex: null\n    };\n  },\n  computed: {\n    sidebarStyle: function sidebarStyle() {\n      if (isDef(this.zIndex)) {\n        return {\n          zIndex: this.zIndex + 1\n        };\n      }\n    },\n    highlightStyle: function highlightStyle() {\n      var highlightColor = this.highlightColor;\n\n      if (highlightColor) {\n        return {\n          color: highlightColor\n        };\n      }\n    }\n  },\n  watch: {\n    indexList: function indexList() {\n      this.$nextTick(this.onScroll);\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this = this;\n\n      if (isHidden(this.$el)) {\n        return;\n      }\n\n      var scrollTop = getScrollTop(this.scroller);\n      var scrollerRect = this.getScrollerRect();\n      var rects = this.children.map(function (item) {\n        return {\n          height: item.height,\n          top: _this.getElementTop(item.$el, scrollerRect)\n        };\n      });\n      var active = this.getActiveAnchorIndex(scrollTop, rects);\n      this.activeAnchorIndex = this.indexList[active];\n\n      if (this.sticky) {\n        this.children.forEach(function (item, index) {\n          if (index === active || index === active - 1) {\n            var rect = item.$el.getBoundingClientRect();\n            item.left = rect.left;\n            item.width = rect.width;\n          } else {\n            item.left = null;\n            item.width = null;\n          }\n\n          if (index === active) {\n            item.active = true;\n            item.top = Math.max(_this.stickyOffsetTop, rects[index].top - scrollTop) + scrollerRect.top;\n          } else if (index === active - 1) {\n            var activeItemTop = rects[active].top - scrollTop;\n            item.active = activeItemTop > 0;\n            item.top = activeItemTop + scrollerRect.top - item.height;\n          } else {\n            item.active = false;\n          }\n        });\n      }\n    },\n    getScrollerRect: function getScrollerRect() {\n      if (this.scroller.getBoundingClientRect) {\n        return this.scroller.getBoundingClientRect();\n      }\n\n      return {\n        top: 0,\n        left: 0\n      };\n    },\n    getElementTop: function getElementTop(ele, scrollerRect) {\n      var scroller = this.scroller;\n\n      if (scroller === window || scroller === document.body) {\n        return _getElementTop(ele);\n      }\n\n      var eleRect = ele.getBoundingClientRect();\n      return eleRect.top - scrollerRect.top + getScrollTop(scroller);\n    },\n    getActiveAnchorIndex: function getActiveAnchorIndex(scrollTop, rects) {\n      for (var i = this.children.length - 1; i >= 0; i--) {\n        var prevHeight = i > 0 ? rects[i - 1].height : 0;\n        var reachTop = this.sticky ? prevHeight + this.stickyOffsetTop : 0;\n\n        if (scrollTop + reachTop >= rects[i].top) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n    onClick: function onClick(event) {\n      this.scrollToElement(event.target);\n    },\n    onTouchMove: function onTouchMove(event) {\n      this.touchMove(event);\n\n      if (this.direction === 'vertical') {\n        preventDefault(event);\n        var _event$touches$ = event.touches[0],\n            clientX = _event$touches$.clientX,\n            clientY = _event$touches$.clientY;\n        var target = document.elementFromPoint(clientX, clientY);\n\n        if (target) {\n          var index = target.dataset.index;\n          /* istanbul ignore else */\n\n          if (this.touchActiveIndex !== index) {\n            this.touchActiveIndex = index;\n            this.scrollToElement(target);\n          }\n        }\n      }\n    },\n    scrollToElement: function scrollToElement(element) {\n      var index = element.dataset.index;\n\n      if (!index) {\n        return;\n      }\n\n      var match = this.children.filter(function (item) {\n        return String(item.index) === index;\n      });\n\n      if (match[0]) {\n        match[0].scrollIntoView();\n\n        if (this.sticky && this.stickyOffsetTop) {\n          setRootScrollTop(getRootScrollTop() - this.stickyOffsetTop);\n        }\n\n        this.$emit('select', match[0].index);\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      this.active = null;\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    var Indexes = this.indexList.map(function (index) {\n      var active = index === _this2.activeAnchorIndex;\n      return h(\"span\", {\n        \"class\": bem('index', {\n          active: active\n        }),\n        \"style\": active ? _this2.highlightStyle : null,\n        \"attrs\": {\n          \"data-index\": index\n        }\n      }, [index]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('sidebar'),\n      \"style\": this.sidebarStyle,\n      \"on\": {\n        \"click\": this.onClick,\n        \"touchstart\": this.touchStart,\n        \"touchmove\": this.onTouchMove,\n        \"touchend\": this.onTouchEnd,\n        \"touchcancel\": this.onTouchEnd\n      }\n    }, [Indexes]), this.slots('default')]);\n  }\n});","<template>\r\n  <div v-if=\"datalist\">\r\n    <oHeader @back=\"back\">当前城市</oHeader>\r\n\r\n    <!-- search start -->\r\n    <form action=\"/\">\r\n      <van-search\r\n        v-model=\"value\"\r\n        show-action\r\n        placeholder=\"请输入搜索关键词\"\r\n        @search=\"onSearch\"\r\n        @cancel=\"onCancel\"\r\n      />\r\n    </form>\r\n    <!-- search start -->\r\n\r\n    <!-- citylist start -->\r\n    <div class=\"cityList\" v-if=\"!value\">\r\n      <van-index-bar :index-list=\"indexList\">\r\n        <div v-for=\"(data,key) in datalist\" :key=\"key\">\r\n          <van-index-anchor :index=\"data.index\" />\r\n          <van-cell v-for=\"(val,index) in data.list\" :key=\"index\" :title=\"val.name\" @click=\"moveCity(val.name,val.cityId)\" />\r\n        </div>\r\n      </van-index-bar>\r\n    </div>\r\n    <!-- citylist end -->\r\n\r\n    <!-- searchCity start -->\r\n    <div class=\"searchCity\" v-if=\"value\">\r\n      <van-index-bar>\r\n        <div v-for=\"(data,key) in SearchCity\" :key=\"key\">\r\n          <van-cell :title=\"data.name\" />\r\n        </div>\r\n      </van-index-bar>\r\n    </div>\r\n    <!-- searchCity end -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { instance } from \"@/utils/http\";\r\nimport oHeader from \"@/components/oHeader\";\r\nimport {mapState,mapMutations} from 'vuex'\r\nimport Vue from \"vue\";\r\nimport { Search, Toast, IndexBar, IndexAnchor, Cell } from \"vant\";\r\n\r\nVue.use(Cell);\r\nVue.use(Search);\r\nVue.use(IndexBar);\r\nVue.use(IndexAnchor);\r\nexport default {\r\n  created() {\r\n    instance(\"/gateway?k=3021205\", {\r\n      headers: {\r\n        \"X-Host\": \"mall.film-ticket.city.list\"\r\n      }\r\n    }).then(res => {\r\n      this.searchArr = res.data.data.cities\r\n      console.log(res.data.data.cities)\r\n      this.filterName(res.data.data.cities);\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      value: \"\",\r\n      datalist: null,\r\n      indexList: [],\r\n      searchArr:null\r\n    };\r\n  },\r\n  computed:{\r\n    ...mapState(\"city\",[\"cityName\"]),\r\n    ...mapState(\"cinema\",[\"cityId\"]),\r\n      SearchCity() {\r\n     return this.searchArr.filter(item => item.pinyin.substr(0,1).toUpperCase().includes(this.value.toUpperCase()) || item.name.includes(this.value));\r\n    }\r\n  },\r\n  components: {\r\n    oHeader,\r\n  },\r\n  methods: {\r\n    moveCity(data,id){\r\n      this.changeCity(data)\r\n      this.changeCityId(id)\r\n      this.$router.push('/cinema')\r\n    },\r\n    ...mapMutations(\"city\",[\"changeCityId\",\"changeCity\"]),\r\n    filterName(data) {\r\n      //26个英文字母\r\n      let letterArr = [];\r\n      let cityArr = [];\r\n      for (var i = 65; i < 91; i++) {\r\n        letterArr.push(String.fromCharCode(i));\r\n      }\r\n      //通过字母得出所有城市\r\n      for (var j = 0; j < letterArr.length; j++) {\r\n        let newArr = data.filter(\r\n          item => item.pinyin.substr(0, 1).toUpperCase() === letterArr[j]\r\n        );\r\n        if (newArr.length > 0) {\r\n          cityArr.push({ index: letterArr[j], list: newArr });\r\n          this.indexList.push(letterArr[j]);\r\n        }\r\n        //this.datalist = [index:A,list:{a1,a2,a3,a4}]\r\n      }\r\n      this.datalist = cityArr;\r\n    },\r\n    back() {\r\n      this.$router.back();\r\n    },\r\n    onSearch(val) {\r\n      Toast(val);\r\n    },\r\n    onCancel() {\r\n      this.value = \"\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\nform {\r\n  position: fixed;\r\n  top: 40px;\r\n  width: 100%;\r\n  background: white;\r\n  z-index: 1;\r\n}\r\n.cityList {\r\n  margin-top: 90px;\r\n}\r\n.searchCity{\r\n    margin-top: 90px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./city.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./city.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./city.vue?vue&type=template&id=3ee35ded&scoped=true&\"\nimport script from \"./city.vue?vue&type=script&lang=js&\"\nexport * from \"./city.vue?vue&type=script&lang=js&\"\nimport style0 from \"./city.vue?vue&type=style&index=0&id=3ee35ded&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ee35ded\",\n  null\n  \n)\n\nexport default component.exports","function flattenVNodes(vnodes) {\n  var result = [];\n\n  function traverse(vnodes) {\n    vnodes.forEach(function (vnode) {\n      result.push(vnode);\n\n      if (vnode.componentInstance) {\n        traverse(vnode.componentInstance.$children.map(function (item) {\n          return item.$vnode;\n        }));\n      }\n\n      if (vnode.children) {\n        traverse(vnode.children);\n      }\n    });\n  }\n\n  traverse(vnodes);\n  return result;\n} // sort children instances by vnodes order\n\n\nexport function sortChildren(children, parent) {\n  var componentOptions = parent.$vnode.componentOptions;\n\n  if (!componentOptions || !componentOptions.children) {\n    return;\n  }\n\n  var vnodes = flattenVNodes(componentOptions.children);\n  children.sort(function (a, b) {\n    return vnodes.indexOf(a.$vnode) - vnodes.indexOf(b.$vnode);\n  });\n}","import Vue from 'vue';\nimport { sortChildren } from '../utils/vnodes';\nexport function ChildrenMixin(_parent, options) {\n  var _inject, _computed;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  var indexKey = options.indexKey || 'index';\n  return Vue.extend({\n    inject: (_inject = {}, _inject[_parent] = {\n      default: null\n    }, _inject),\n    computed: (_computed = {\n      parent: function parent() {\n        if (this.disableBindRelation) {\n          return null;\n        }\n\n        return this[_parent];\n      }\n    }, _computed[indexKey] = function () {\n      this.bindRelation();\n\n      if (this.parent) {\n        return this.parent.children.indexOf(this);\n      }\n\n      return null;\n    }, _computed),\n    mounted: function mounted() {\n      this.bindRelation();\n    },\n    beforeDestroy: function beforeDestroy() {\n      var _this = this;\n\n      if (this.parent) {\n        this.parent.children = this.parent.children.filter(function (item) {\n          return item !== _this;\n        });\n      }\n    },\n    methods: {\n      bindRelation: function bindRelation() {\n        if (!this.parent || this.parent.children.indexOf(this) !== -1) {\n          return;\n        }\n\n        var children = [].concat(this.parent.children, [this]);\n        sortChildren(children, this.parent);\n        this.parent.children = children;\n      }\n    }\n  });\n}\nexport function ParentMixin(parent) {\n  return {\n    provide: function provide() {\n      var _ref;\n\n      return _ref = {}, _ref[parent] = this, _ref;\n    },\n    data: function data() {\n      return {\n        children: []\n      };\n    }\n  };\n}","// color\nexport var RED = '#ee0a24';\nexport var BLUE = '#1989fa';\nexport var GREEN = '#07c160';\nexport var WHITE = '#fff'; // border\n\nexport var BORDER = 'van-hairline';\nexport var BORDER_TOP = BORDER + \"--top\";\nexport var BORDER_LEFT = BORDER + \"--left\";\nexport var BORDER_BOTTOM = BORDER + \"--bottom\";\nexport var BORDER_SURROUND = BORDER + \"--surround\";\nexport var BORDER_TOP_BOTTOM = BORDER + \"--top-bottom\";\nexport var BORDER_UNSET_TOP_BOTTOM = BORDER + \"-unset--top-bottom\";","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./oHeader.vue?vue&type=style&index=0&id=7bf5e582&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./oHeader.vue?vue&type=style&index=0&id=7bf5e582&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./city.vue?vue&type=style&index=0&id=3ee35ded&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./city.vue?vue&type=style&index=0&id=3ee35ded&lang=scss&scoped=true&\""],"sourceRoot":""}